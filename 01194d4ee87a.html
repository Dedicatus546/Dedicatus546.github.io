<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">


  <link rel="apple-touch-icon" href="/other/favicon.svg">
  <link rel="icon" type="image/svg+xml" href="/other/favicon.svg">
  <link rel="mask-icon" href="/other/favicon.svg" color="#222">

  <link rel="manifest" href="/other/mainfest.json">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"prohibitorum.top","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"algolia":{"appID":"T3MJ56EZKX","apiKey":"d231b9edc85683ea50e37ff0bdc95d43","indexName":"blog","hits":{"per_page":10}}}</script><script src="/js/config.js"></script>

    <meta name="description" content="å‰è¨€ğŸ‘´å›æ¥äº†ï¼Œè¿™ç¯‡ä¸»è¦ç¿»è¯‘ä¸‹w3è‰æ¡ˆUI Eventä¸­çš„ç¬¬3å°èŠ‚ - DOMäº‹ä»¶ä½“ç³»ï¼ˆDOM Event Architectureï¼‰ è¿™ä¸€ä¸ªå°èŠ‚ä¸»è¦è®²äº†äº‹ä»¶æ•è·å’Œå†’æ³¡çš„ä¸œè¥¿å§ï¼Œå½“ä½œä¸€ä¸ªç¬”è®°">
<meta property="og:type" content="article">
<meta property="og:title" content="DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡">
<meta property="og:url" content="https://prohibitorum.top/01194d4ee87a">
<meta property="og:site_name" content="æ‹ã®æ­Œ">
<meta property="og:description" content="å‰è¨€ğŸ‘´å›æ¥äº†ï¼Œè¿™ç¯‡ä¸»è¦ç¿»è¯‘ä¸‹w3è‰æ¡ˆUI Eventä¸­çš„ç¬¬3å°èŠ‚ - DOMäº‹ä»¶ä½“ç³»ï¼ˆDOM Event Architectureï¼‰ è¿™ä¸€ä¸ªå°èŠ‚ä¸»è¦è®²äº†äº‹ä»¶æ•è·å’Œå†’æ³¡çš„ä¸œè¥¿å§ï¼Œå½“ä½œä¸€ä¸ªç¬”è®°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/12/03/iyUC1nhHEOspBGx.png">
<meta property="og:image" content="https://i.loli.net/2020/12/03/XEqi2o9FM4JpngW.png">
<meta property="article:published_time" content="2020-12-03T10:50:45.000Z">
<meta property="article:modified_time" content="2023-02-13T18:28:44.000Z">
<meta property="article:author" content="Dedicatus545">
<meta property="article:tag" content="DOM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/12/03/iyUC1nhHEOspBGx.png">


<link rel="canonical" href="https://prohibitorum.top/01194d4ee87a.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://prohibitorum.top/01194d4ee87a","path":"01194d4ee87a.html","title":"DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡ | æ‹ã®æ­Œ</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TDBJV1DQ49"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-TDBJV1DQ49","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">æ‹ã®æ­Œ</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">koi-no-uta</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="algolia-stats"><hr></div>
  <div class="algolia-hits"></div>
  <div class="algolia-pagination"></div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DOM-Event-Architecture-%EF%BC%88DOM%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB%EF%BC%89"><span class="nav-number">2.</span> <span class="nav-text">DOM Event Architecture ï¼ˆDOMäº‹ä»¶ä½“ç³»ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Event-dispatch-and-DOM-event-flow%EF%BC%88%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E5%92%8CDOM%E4%BA%8B%E4%BB%B6%E6%B5%81%EF%BC%89"><span class="nav-number">2.1.</span> <span class="nav-text">Event dispatch and DOM event flowï¼ˆäº‹ä»¶åˆ†å‘å’ŒDOMäº‹ä»¶æµï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Default-actions-and-cancelable-events%EF%BC%88%E9%BB%98%E8%AE%A4%E5%8A%A8%E4%BD%9C%E5%92%8C%E5%8F%AF%E5%8F%96%E6%B6%88%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="nav-number">2.2.</span> <span class="nav-text">Default actions and cancelable eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Synchronous-and-asynchronous-events%EF%BC%88%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="nav-number">2.3.</span> <span class="nav-text">Synchronous and asynchronous eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Trusted-events%EF%BC%88%E5%8F%AF%E4%BF%A1%E8%B5%96%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="nav-number">2.4.</span> <span class="nav-text">Trusted eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Activation-triggers-and-behavior%EF%BC%88%E6%BF%80%E6%B4%BB%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8%E5%92%8C%E8%A1%8C%E4%B8%BA%EF%BC%89"><span class="nav-number">2.5.</span> <span class="nav-text">Activation triggers and behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Constructing-Mouse-and-Keyboard-Events%EF%BC%88%E6%9E%84%E5%BB%BA%E7%9A%84%E9%BC%A0%E6%A0%87%E5%92%8C%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="nav-number">2.6.</span> <span class="nav-text">Constructing Mouse and Keyboard Eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-number">3.</span> <span class="nav-text">åè®°</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dedicatus545"
      src="https://avatars.githubusercontent.com/u/48575405?v=4">
  <p class="site-author-name" itemprop="name">Dedicatus545</p>
  <div class="site-description" itemprop="description">Index-Librorum-Prohibitorum</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">192</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">156</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Dedicatus546" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Dedicatus546" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1607611087@qq.com" title="E-Mail â†’ mailto:1607611087@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" class="cc-opacity" rel="noopener" target="_blank"><img src="https://fastly.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://prohibitorum.top/01194d4ee87a">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/48575405?v=4">
      <meta itemprop="name" content="Dedicatus545">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ‹ã®æ­Œ">
      <meta itemprop="description" content="Index-Librorum-Prohibitorum">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡ | æ‹ã®æ­Œ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-03 10:50:45" itemprop="dateCreated datePublished" datetime="2020-12-03T10:50:45+00:00">2020-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-02-13 18:28:44" itemprop="dateModified" datetime="2023-02-13T18:28:44+00:00">2023-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">ç¬”è®°</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>6.1k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>22 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ğŸ‘´å›æ¥äº†ï¼Œè¿™ç¯‡ä¸»è¦ç¿»è¯‘ä¸‹w3è‰æ¡ˆ<code>UI Event</code>ä¸­çš„ç¬¬3å°èŠ‚ - DOMäº‹ä»¶ä½“ç³»ï¼ˆDOM Event Architectureï¼‰</p>
<p>è¿™ä¸€ä¸ªå°èŠ‚ä¸»è¦è®²äº†äº‹ä»¶æ•è·å’Œå†’æ³¡çš„ä¸œè¥¿å§ï¼Œå½“ä½œä¸€ä¸ªç¬”è®°</p>
<span id="more"></span>

<p>åŸæ–‡ï¼š<a target="_blank" rel="noopener" href="https://www.w3.org/TR/2019/WD-uievents-20190530">UI Events</a></p>
<h1 id="DOM-Event-Architecture-ï¼ˆDOMäº‹ä»¶ä½“ç³»ï¼‰"><a href="#DOM-Event-Architecture-ï¼ˆDOMäº‹ä»¶ä½“ç³»ï¼‰" class="headerlink" title="DOM Event Architecture ï¼ˆDOMäº‹ä»¶ä½“ç³»ï¼‰"></a>DOM Event Architecture ï¼ˆDOMäº‹ä»¶ä½“ç³»ï¼‰</h1><blockquote>
<p>This section is non-normative. Refer to <a target="_blank" rel="noopener" href="https://dom.spec.whatwg.org/">DOM</a> for a normative description of the DOM event architecture</p>
</blockquote>
<p>æœ¬èŠ‚æ˜¯éè§„èŒƒåŒ–çš„ã€‚è½¬åˆ°DOMæ ‡å‡†æ¥è·å¾—ä¸€ä¸ªå¯¹DOMäº‹ä»¶ä½“ç³»çš„ä¸€ä¸ªè§„èŒƒåŒ–çš„æè¿°ã€‚</p>
<p>ä¸ªäººæ„Ÿè§‰è¿™ä¸ªè‰æ¡ˆè®²çš„æ¯”è¾ƒå®è§‚ï¼Œè€Œè§„èŒƒé‚£è¾¹è®²çš„å¾ˆç»†è‡´ï¼Œå°±ä¼šè®²å¯¹è±¡çš„ç»“æ„å’Œä¼ªä»£ç ç­‰</p>
<p>å¯¹äºæˆ‘è¿™ç§åˆšåˆšæ¥è§¦è§„èŒƒï¼Œæ„Ÿè§‰ä»è‰æ¡ˆä¸Šçœ‹ä¼šæ›´å¥½~ï¼Œå…ˆå¯¹å¤§ä½“æœ‰ä¸€ä¸ªè®¤è¯†</p>
<h2 id="Event-dispatch-and-DOM-event-flowï¼ˆäº‹ä»¶åˆ†å‘å’ŒDOMäº‹ä»¶æµï¼‰"><a href="#Event-dispatch-and-DOM-event-flowï¼ˆäº‹ä»¶åˆ†å‘å’ŒDOMäº‹ä»¶æµï¼‰" class="headerlink" title="Event dispatch and DOM event flowï¼ˆäº‹ä»¶åˆ†å‘å’ŒDOMäº‹ä»¶æµï¼‰"></a>Event dispatch and DOM event flowï¼ˆäº‹ä»¶åˆ†å‘å’ŒDOMäº‹ä»¶æµï¼‰</h2><blockquote>
<p>This section gives a brief overview of the event <strong>dispatch</strong> mechanism and describes how events propagate through the DOM tree. Applications can dispatch event objects using the <code>dispatchEvent()</code> method, and the event object will propagate through the DOM tree as determined by the DOM event flow.</p>
</blockquote>
<p>æœ¬èŠ‚ç®€çŸ­çš„æ¦‚è¿°äº†äº‹ä»¶åˆ†å‘çš„æœºåˆ¶ä»¥åŠäº‹ä»¶å¦‚ä½•é€šè¿‡DOMæ ‘è¿›è¡Œä¼ æ’­ã€‚åº”ç”¨å¯ä»¥é€šè¿‡ä½¿ç”¨<code>dispatchEvent()</code>æ–¹æ³•æ¥åˆ†å‘äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡é€šè¿‡DOMäº‹ä»¶æµæ¥ç¡®å®šåœ¨DOMæ ‘ä¸­çš„ä¼ é€’ã€‚</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæœ¯è¯­ï¼š<strong>dispatch</strong></p>
<hr>
<p><strong>dispatch</strong></p>
<blockquote>
<p>To create an event with attributes and methods appropriate to its type and context, and propagate it through the DOM tree in the specified manner. Interchangeable with the term <code>fire</code>, e.g., <code>fire</code> a <code>click</code> event or <code>dispatch</code> a <code>load</code> event.</p>
</blockquote>
<p>åˆ›å»ºä¸€ä¸ªå¸¦æœ‰é€‚åˆå¯¹åº”ç±»å‹å’Œä¸Šä¸‹æ–‡çš„å±æ€§å’Œæ–¹æ³•çš„äº‹ä»¶ï¼Œç„¶ååœ¨DOMæ ‘ä¸­é€šè¿‡ç‰¹å®šçš„æ–¹å¼ä¼ é€’è¿™ä¸ªäº‹ä»¶ã€‚å¯ä¸æœ¯è¯­<code>fire</code>äº’æ¢ï¼Œæ¯”å¦‚ï¼Œæ¯”å¦‚å¯ä»¥è¯´<code>fire</code>ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥è¯´<code>dispatch</code>ä¸€ä¸ªåŠ è½½çš„äº‹ä»¶</p>
<hr>
<blockquote>
<p>Event objects are dispatched to an <strong>event target</strong>. But before dispatch can begin, the event objectâ€™s <strong>propagation path</strong> must first be determined.</p>
</blockquote>
<p>äº‹ä»¶å¯¹è±¡è¢«åˆ†å‘åˆ°ä¸€ä¸ªäº‹ä»¶ç›®æ ‡å¯¹è±¡ä¸Šã€‚ä½†åœ¨åˆ†å‘è¿‡ç¨‹å¼€å§‹ä¹‹å‰ï¼Œäº‹ä»¶å¯¹è±¡çš„ä¼ é€’è·¯å¾„å¿…é¡»å…ˆç¡®å®šä¸‹æ¥</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªæœ¯è¯­ <strong>event target</strong> å’Œ <strong>propagation path</strong></p>
<hr>
<p><strong>event target</strong></p>
<blockquote>
<p>The object to which an event is targeted using the Â§3.1 Event dispatch and DOM event flow. The event target is the value of the target attribute.</p>
</blockquote>
<p>äº‹ä»¶é’ˆå¯¹çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯äº‹ä»¶çš„ç›®æ ‡å¯¹è±¡ï¼‰ã€‚äº‹ä»¶ç›®æ ‡å¯¹è±¡å°±æ˜¯<code>target</code>å±æ€§çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å‡½æ•°ä¸­ä½¿ç”¨å‚æ•°<code>e</code>çš„<code>e.target</code>å€¼ï¼‰</p>
<p><strong>propagation path</strong></p>
<blockquote>
<p>The ordered set of current event targets though which an event object will pass sequentially on the way to and back from the event target.<br>As the event propagates, each current event target in the propagation path is in turn set as the currentTarget.<br>The propagation path is initially composed of one or more event phases as defined by the event type, but MAY be interrupted.<br>Also known as an event target chain.</p>
</blockquote>
<p>ä¸€ä¸ªäº‹ä»¶å¯¹è±¡æŒ‰åºçš„åˆ°è¾¾äº‹ä»¶ç›®æ ‡å¯¹è±¡ä»¥åŠä»äº‹ä»¶ç›®æ ‡å¯¹è±¡ç¦»å¼€çš„è¿‡ç¨‹ä¸­å½“å‰çš„äº‹ä»¶å¯¹è±¡ç»„æˆçš„ä¸€ä¸ªæœ‰åºçš„é›†åˆã€‚å½“äº‹ä»¶ä¼ é€’çš„æ—¶å€™ï¼Œæ¯ä¸ªåœ¨ä¼ æ’­è·¯å¾„ä¸­çš„å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡ä»¥åŠè¢«è®¾ç½®ä¸º<code>currentTarget</code>ï¼ˆä¹Ÿå°±æ˜¯èµ‹å€¼çš„ä¸€ä¸ªè¿‡ç¨‹ï¼‰<br>ä¼ æ’­è·¯å¾„æœ€åˆç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªç”±äº‹ä»¶ç±»å‹å®šä¹‰çš„äº‹ä»¶é˜¶æ®µç»„æˆï¼Œä½†å¯èƒ½ä¼šè¢«æ‰“æ–­ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€æ¡äº‹ä»¶ç›®æ ‡å¯¹è±¡é“¾ã€‚</p>
<hr>
<blockquote>
<p>The <strong>propagation path</strong> is an ordered list of <strong>current event targets</strong> through which the event passes. This <strong>propagation path</strong> reflects the hierarchical tree structure of the document.<br>The last item in the list is the <strong>event target</strong>, and the preceding items in the list are referred to as the targetâ€™s ancestors, with the immediately preceding item as the targetâ€™s parent.</p>
</blockquote>
<p>ä¼ é€’è·¯å¾„æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡é€šè¿‡çš„å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡çš„ä¸€ä¸ªæœ‰åºçš„é›†åˆã€‚è¿™ä¸ªä¼ é€’è·¯å¾„åæ˜ äº†æ–‡æ¡£çš„åˆ†å±‚æ ‘çš„ç»“æ„ã€‚åˆ—è¡¨ä¸­çš„æœ€åä¸€é¡¹ä¸ºäº‹ä»¶ç›®æ ‡å¯¹è±¡ï¼Œä¹‹å‰çš„é¡¹ç§°ä¸ºç›®æ ‡å¯¹è±¡çš„ç¥–å…ˆï¼Œè€Œç›´æ¥ç¥–å…ˆæˆä¸ºç›®æ ‡å¯¹è±¡çš„çˆ¶èŠ‚ç‚¹ã€‚</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæœ¯è¯­ï¼š<strong>current event targets</strong></p>
<hr>
<p><strong>current event targets</strong></p>
<blockquote>
<p>In an event flow, the current event target is the object associated with the event handler that is currently being dispatched.<br>This object MAY be the event target itself or one of its ancestors.<br>The current event target changes as the event propagates from object to object through the various phases of the event flow.<br>The current event target is the value of the <code>currentTarget</code> attribute.</p>
</blockquote>
<p>åœ¨ä¸€ä¸ªäº‹ä»¶æµä¸­ï¼Œå½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡ä¸ºå½“å‰æ­£åœ¨åˆ†å‘çš„äº‹ä»¶å¤„ç†å™¨å…³è”çš„å¯¹è±¡<br>è¿™ä¸ªå¯¹è±¡å¯èƒ½å¯èƒ½ä¸ºäº‹ä»¶ç›®æ ‡å¯¹è±¡æœ¬èº«æˆ–è€…æ˜¯å®ƒçš„ä¸€ä¸ªç¥–å…ˆã€‚<br>å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡åœ¨äº‹ä»¶é€šè¿‡äº‹ä»¶æµçš„å‡ ä¸ªé˜¶æ®µä»å¯¹è±¡é—´ä¼ é€’çš„è¿‡ç¨‹ä¸­æ”¹å˜<br>å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡ä¸º<code>currentTarget</code>å±æ€§çš„å€¼</p>
<p>PSï¼šè¿™é‡Œæåˆ°çš„<code>current target event</code>å’Œå…ˆå‰çš„<code>target event</code>å¯¹åº”äº†æ¯æ¬¡æˆ‘ä»¬åœ¨æ³¨å†Œå›è°ƒå‡½æ•°é‡Œé¢ä½¿ç”¨çš„å‚æ•°<code>e</code>çš„å±æ€§<code>currentTarget</code>å’Œ<code>target</code><br><code>target</code>ä¸ºè§¦å‘äº†äº‹ä»¶çš„domèŠ‚ç‚¹ï¼Œè€Œ<code>currentTarget</code>å¯ä»¥ç†è§£ä¸ºæŒ‡å‘äº†ä½ æ³¨å†Œå›è°ƒæ—¶çš„é‚£ä¸ªdomèŠ‚ç‚¹</p>
<hr>
<blockquote>
<p>Once the <strong>propagation path</strong> has been determined, the event object passes through one or more <strong>event phases</strong>.<br>There are three event phases: <strong>capture phase</strong>, <strong>target phase</strong> and <strong>bubble phase</strong>.<br>Event objects complete these phases as described below.<br>A phase will be skipped if it is not supported, or if the event objectâ€™s propagation has been stopped.<br>For example, if the <code>bubbles</code> attribute is set to false, the bubble phase will be skipped, and if <code>stopPropagation()</code> has been called prior to the dispatch, all phases will be skipped.</p>
</blockquote>
<p>ä¸€æ—¦ä¼ é€’è·¯å¾„è¢«ç¡®å®šä¸‹æ¥ï¼Œäº‹ä»¶å¯¹è±¡ä¼ é€’ç»™ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶é˜¶æ®µã€‚<br>è¿™é‡Œå­˜åœ¨ä¸‰ä¸ªæ—¶é—´é˜¶æ®µï¼šæ•è·é˜¶æ®µï¼Œç›®æ ‡é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼ˆè¿™é‡Œå¯ä»¥å¯¹åº”ä¸‹é¢è¿™å¼ å›¾ï¼‰<br>äº‹ä»¶å¯¹è±¡æŒ‰ç…§ä¸‹é¢çš„æè¿°æ¥å®Œæˆè¿™äº›é˜¶æ®µã€‚<br>å¦‚æœæŸä¸ªé˜¶æ®µä¸è¢«æ”¯æŒï¼Œæˆ–è€…äº‹ä»¶å¯¹è±¡çš„ä¼ æ’­è¢«ä¸­æ­¢ï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µä¼šè¢«è·³è¿‡ã€‚<br>æ¯”å¦‚ï¼Œå¦‚æœå†’æ³¡å±æ€§è¢«è®¾ç½®ä¸º<code>false</code>ï¼Œé‚£ä¹ˆå†’æ³¡é˜¶æ®µä¼šè¢«è·³è¿‡ï¼Œå¦‚æœé¢„å…ˆåœ¨åˆ†å‘å‰è°ƒç”¨äº†<code>stopPropagation()</code>ï¼Œæ‰€æœ‰çš„é˜¶æ®µä¼šè¢«è·³è¿‡ã€‚</p>
<p>è¿™é‡Œæœ‰å‡ ä¸ªæœ¯è¯­ï¼š<code>event phasesï¼ˆäº‹ä»¶é˜¶æ®µï¼‰</code>ï¼Œ<code>capture phaseï¼ˆæ•è·é˜¶æ®µï¼‰</code>,<code>target phaseï¼ˆç›®æ ‡é˜¶æ®µï¼‰</code>,<code>bubble phaseï¼ˆå†’æ³¡é˜¶æ®µï¼‰</code>ï¼Œè¿™å‡ ä¸ªæœ¯è¯­åœ¨è¿™é‡Œæ¯”è¾ƒå¥½ç†è§£ï¼Œå¹¶ä¸”ä¸‹é¢çš„å›¾é¢ä¹Ÿå¯ä»¥å¾ˆå¥½çš„å±•ç¤ºè¿™ä¸‰ä¸ªè¿‡ç¨‹ã€‚</p>
<blockquote>
<ul>
<li>The capture phase: The event object propagates through the targetâ€™s ancestors from the <code>Window</code> to the targetâ€™s parent. This phase is also known as the capturing phase.</li>
<li>The target phase: The event object arrives at the event objectâ€™s <strong>event target</strong>. This phase is also known as the at-target phase. If the <strong>event type</strong> indicates that the event doesnâ€™t bubble, then the event object will halt after completion of this phase.</li>
<li>The bubble phase: The event object propagates through the targetâ€™s ancestors in reverse order, starting with the targetâ€™s parent and ending with the <code>Window</code>. This phase is also known as the bubbling phase.</li>
</ul>
</blockquote>
<ul>
<li>æ•è·é˜¶æ®µï¼šäº‹ä»¶å¯¹è±¡ä»ç›®æ ‡å¯¹è±¡çš„ç»„ä»¶ï¼ˆWindowå¯¹è±¡å¼€å§‹ï¼‰åˆ°ç›®æ ‡å¯¹è±¡çš„çˆ¶å¯¹è±¡ä¼ é€’ã€‚</li>
<li>ç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶å¯¹è±¡åˆ°è¾¾å®ƒçš„äº‹ä»¶ç›®æ ‡å¯¹è±¡ã€‚å¦‚æœäº‹ä»¶ç±»å‹è¡¨æ˜äº‹ä»¶ä¸å†’æ³¡çš„è¯ï¼Œé‚£ä¹ˆäº‹ä»¶å¯¹è±¡ä¼šåœ¨è¿™ä¸ªé˜¶æ®µå®Œæˆä¹‹ååœæ­¢ã€‚</li>
<li>å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶å¯¹è±¡ä»¥æ•è·é˜¶æ®µç›¸åçš„é¡ºåºè¿›è¡Œä¼ é€’ï¼Œä»äº‹ä»¶ç›®æ ‡å¯¹è±¡çš„çˆ¶èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åç»“æŸäºWindowå¯¹è±¡ã€‚</li>
</ul>
<p><img data-src="https://i.loli.net/2020/12/03/iyUC1nhHEOspBGx.png"></p>
<h2 id="Default-actions-and-cancelable-eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰"><a href="#Default-actions-and-cancelable-eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰" class="headerlink" title="Default actions and cancelable eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰"></a>Default actions and cancelable eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰</h2><blockquote>
<p>Events are typically dispatched by the implementation as a result of a user action, in response to the completion of a task, or to signal progress during asynchronous activity (such as a network request).<br>Some events can be used to control the behavior that the implementation may take next (or undo an action that the implementation already took).<br>Events in this category are said to be cancelable and the behavior they cancel is called their <strong>default action</strong>.<br>Cancelable event objects can be associated with one or more â€˜default actionsâ€™. To cancel an event, call the <code>preventDefault()</code> method.</p>
</blockquote>
<p>äº‹ä»¶é€šå¸¸ç”±ä¸€ä¸ªå®ç°äº†ç”¨æˆ·è¡Œä¸ºçš„æ“ä½œåˆ†å‘ï¼Œå“åº”ä»»åŠ¡çš„å®Œæˆï¼Œæˆ–è€…åœ¨å¼‚æ­¥æ´»åŠ¨é—´ä½œä¸ºä¿¡å·è¿›ç¨‹ï¼ˆæ¯”å¦‚ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼‰<br>ä¸€äº›äº‹ä»¶å¸¸ç”¨äºæ§åˆ¶ä¸‹ä¸€æ­¥å®ç°å¯èƒ½å‡ºç°çš„è¡Œä¸ºï¼ˆæˆ–è€…å›é€€ä¸€ä¸ªæ—©å·²å®ç°çš„åŠ¨ä½œï¼‰<br>åœ¨è¿™ä¸ªç±»åˆ«çš„äº‹ä»¶è¢«ç§°ä¸ºå¯å–æ¶ˆçš„ï¼Œå–æ¶ˆçš„è¡Œä¸ºè¢«ç§°ä¸ºå®ƒä»¬çš„é»˜è®¤åŠ¨ä½œ<br>å¯å–æ¶ˆçš„äº‹ä»¶å¯¹è±¡å¯ä»¥è¢«ä¸€ä¸ªæˆ–å¤šä¸ªâ€˜é»˜è®¤åŠ¨ä½œâ€™å…³è”ã€‚ä¸ºäº†å–æ¶ˆä¸€ä¸ªäº‹ä»¶ï¼Œè°ƒç”¨<code>preventDefault()</code>æ–¹æ³•ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªæœ¯è¯­ï¼š<strong>default action</strong></p>
<hr>
<p><strong>default action</strong></p>
<blockquote>
<p>A default action is an OPTIONAL supplementary behavior that an implementation MUST perform in combination with the dispatch of the event object.<br>Each event type definition, and each specification, defines the default action for that event type, if it has one.<br>An instance of an event MAY have more than one default action under some circumstances, such as when associated with an activation trigger.<br>A default action MAY be cancelled through the invocation of the <code>preventDefault()</code> method.<br>For more details, see Â§3.2 Default actions and cancelable events.</p>
</blockquote>
<p>é»˜è®¤åŠ¨ä½œæ˜¯å¯é€‰çš„è¡¥å……è¡Œä¸ºï¼Œå®ç°å¿…é¡»å’Œäº‹ä»¶åˆ†å‘ç»“åˆæ‰§è¡Œã€‚<br>æ¯ä¸ªäº‹ä»¶ç±»å‹å®šä¹‰ï¼Œæ¯ä¸ªè§„èŒƒï¼Œéƒ½å®šä¹‰äº†å¯¹åº”äº‹ä»¶ç±»å‹çš„é»˜è®¤åŠ¨ä½œï¼ˆå¦‚æœå®ƒæ‹¥æœ‰çš„è¯ï¼‰ã€‚<br>æ¯ä¸ªäº‹ä»¶çš„å®ä¾‹å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹å­˜åœ¨è¶…è¿‡ä¸€ä¸ªçš„é»˜è®¤åŠ¨ä½œï¼Œæ¯”å¦‚å½“å’Œæ¿€æ´»è§¦å‘å™¨å…³è”æ—¶ã€‚<br>ä¸€ä¸ªé»˜è®¤åŠ¨ä½œå¯èƒ½ä¼šè¢«é€šè¿‡æ‰§è¡Œ<code>preventDefault()</code>æ–¹æ³•è€Œå–æ¶ˆã€‚<br>æ›´å¤šçš„ç»†èŠ‚ï¼Œå¯ä»¥æŸ¥çœ‹Â§3.2èŠ‚ï¼ˆä¹Ÿå°±æ˜¯å½“å‰è¿™ä¸€èŠ‚ï¼‰ã€‚</p>
<hr>
<blockquote>
<p>EXAMPLE 1<br>A mousedown event is dispatched immediately after the user presses down a button on a pointing device (typically a mouse).<br>One possible <strong>default action</strong> taken by the implementation is to set up a state machine that allows the user to drag images or select text.<br>The <strong>default action</strong> depends on what happens next â€” for example, if the userâ€™s pointing device is over text, a text selection might begin.<br>If the userâ€™s pointing device is over an image, then an image-drag action could begin.<br>Preventing the <strong>default action</strong> of a mousedown event prevents these actions from occurring.</p>
</blockquote>
<p>ä¸€ä¸ªé¼ æ ‡äº‹ä»¶ä¼šåœ¨ç”¨æˆ·ä½¿ç”¨ç‚¹å‡»è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªé¼ æ ‡ï¼‰æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é’®ä¹‹åç«‹å³è¢«åˆ†å‘ã€‚<br>ä¸€ä¸ªå¯èƒ½çš„é‡‡å–å®ç°çš„é»˜è®¤åŠ¨ä½œä¼šè®¾ç½®ä¸€ä¸ªçŠ¶æ€æœºï¼Œå…è®¸ç”¨æˆ·å»æ‹–æ‹½å›¾åƒæˆ–è€…é€‰æ‹©æ–‡å­—ã€‚<br>é»˜è®¤åŠ¨ä½œå–å†³äºæ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆ - æ¯”å¦‚ï¼Œå¦‚æœç”¨æˆ·çš„ç‚¹å‡»è®¾å¤‡æ”¾åœ¨æ–‡å­—ä¸Šï¼Œé‚£ä¹ˆæ–‡å­—é€‰æ‹©çš„åŠ¨ä½œå°±ä¼šå¼€å§‹<br>å¦‚æœç”¨æˆ·çš„ç‚¹å‡»è®¾å¤‡æ”¾åœ¨ä¸€ä¸ªå›¾åƒçš„ä¸Šé¢ï¼Œé‚£ä¹ˆä¸€ä¸ªå›¾ç‰‡æ‹–æ‹½çš„åŠ¨ä½œå°±ä¼šå¼€å§‹<br>é˜»æ­¢ä¸€ä¸ªæŒ‰ä¸‹äº‹ä»¶çš„é»˜è®¤çš„åŠ¨ä½œå¯ä»¥é˜²æ­¢è¿™äº›åŠ¨ä½œçš„å‘ç”Ÿ</p>
<blockquote>
<p><strong>Default actions</strong> are usually performed after the event dispatch has been completed,<br>but in exceptional cases they may also be performed immediately before the event is dispatched.</p>
</blockquote>
<p>é»˜è®¤åŠ¨ä½œé€šå¸¸åœ¨äº‹ä»¶åˆ†å‘å®Œæˆä¹‹åè¢«æ‰§è¡Œï¼Œä½†åœ¨ç‰¹æ®Šçš„åœºæ™¯ä¸‹å¯èƒ½ä¼šåœ¨äº‹ä»¶åˆ†å‘ä¹‹å‰ç«‹å³æ‰§è¡Œ</p>
<blockquote>
<p>EXAMPLE 2<br>The <strong>default action</strong> associated with the click event on <code>&lt;input type=&quot;checkbox&quot;&gt;</code> elements toggles the checked IDL attribute value of that element.<br>If the click eventâ€™s <strong>default action</strong> is cancelled, then the value is restored to its former state.</p>
</blockquote>
<p>åœ¨<code>&lt;input type=&quot;checkbox&quot;&gt;</code>å…ƒç´ ä¸Šå…³è”ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œä¸ºåˆ‡æ¢è¿™ä¸ªå…ƒç´ <code>checked</code>å±æ€§çš„å€¼<br>å¦‚æœç‚¹å‡»äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œè¢«å–æ¶ˆï¼Œé‚£ä¹ˆå€¼ä¼šæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼ˆä¹Ÿå°±æ˜¯ä¸ä¼šæ”¹å˜ï¼‰</p>
<blockquote>
<p>When an event is canceled, then the conditional <strong>default actions</strong> associated with the event is skipped (or as mentioned above, if the default actions are carried out before the dispatch, their effect is undone).<br>Whether an event object is cancelable is indicated by the <code>cancelable</code> attribute.<br>Calling <code>preventDefault()</code> stops all related <strong>default actions</strong> of an event object.<br>The <code>defaultPrevented</code> attribute indicates whether an event has already been canceled (e.g., by a prior event listener).<br>If the DOM application itself initiated the dispatch, then the return value of the <code>dispatchEvent()</code> method indicates whether the event object was cancelled.</p>
</blockquote>
<p>å½“ä¸€ä¸ªäº‹ä»¶è¢«å–æ¶ˆï¼Œä¸äº‹ä»¶å…³è”çš„æœ‰æ¡ä»¶çš„é»˜è®¤åŠ¨ä½œä¼šè¢«è·³è¿‡ï¼ˆæˆ–è€…å°±å¦‚ä¸Šé¢æåˆ°çš„ï¼Œå¦‚æœé»˜è®¤åŠ¨ä½œåœ¨åˆ†å‘å‰è¢«æ‰§è¡Œï¼Œå®ƒä»¬çš„å½±å“ä¼šè¢«æ’¤é”€ï¼‰<br>äº‹ä»¶å¯¹è±¡æ˜¯å¦å¯ä»¥å–æ¶ˆç”±ç”±<code>cancelable</code>å±æ€§æ¥æŒ‡æ˜ã€‚<br>è°ƒç”¨<code>preventDefault()</code>æ¥åœæ­¢ä¸€ä¸ªäº‹ä»¶å¯¹è±¡çš„æ‰€æœ‰ç›¸å…³çš„é»˜è®¤åŠ¨ä½œ<br><code>defaultPrevented</code>å±æ€§è¡¨æ˜äº‹ä»¶æ˜¯å¦å·²ç»è¢«å–æ¶ˆï¼ˆæ¯”å¦‚ï¼Œé€šè¿‡ä¹‹å‰çš„ä¸€ä¸ªäº‹ä»¶ç›‘å¬å‡½æ•°ï¼‰<br>å¦‚æœæ˜¯domåº”ç”¨æœ¬èº«å‘èµ·çš„åˆ†å‘æ“ä½œï¼Œé‚£ä¹ˆ<code>dispatchEvent()</code>æ–¹æ³•çš„è¿”å›å€¼è¡¨æ˜äº‹ä»¶å¯¹è±¡æ˜¯å¦è¢«å–æ¶ˆ</p>
<blockquote>
<p>Many implementations additionally interpret an event listenerâ€™s return value, such as the value <code>false</code>,<br>to mean that the <strong>default action</strong> of cancelable events will be cancelled (though <code>window.onerror</code> handlers are cancelled by returning <code>true</code>).</p>
</blockquote>
<p>è®¸å¤šå®ç°å¦å¤–åœ°è§£é‡Šäº†äº‹ä»¶ç›‘å¬å‡½æ•°åœ°è¿”å›å€¼ï¼Œæ¯”å¦‚å€¼ä¸º<code>false</code>ï¼Œæ„å‘³ç€å¯å–æ¶ˆåœ°äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œè¢«å–æ¶ˆï¼ˆè™½ç„¶<code>window.onerror</code>ä»¥è¿”å›<code>true</code>æ¥å–æ¶ˆé»˜è®¤çš„åŠ¨ä½œï¼‰</p>
<h2 id="Synchronous-and-asynchronous-eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰"><a href="#Synchronous-and-asynchronous-eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰" class="headerlink" title="Synchronous and asynchronous eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰"></a>Synchronous and asynchronous eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰</h2><blockquote>
<p>Events may be dispatched either synchronously or asynchronously.</p>
</blockquote>
<p>äº‹ä»¶å¯èƒ½ä»¥åŒæ­¥æˆ–è€…å¼‚æ­¥çš„æ–¹å¼åˆ†å‘ã€‚</p>
<blockquote>
<p>Events which are synchronous (sync events) are treated as if they are in a virtual queue in a first-in-first-out model,<br>ordered by sequence of temporal occurrence with respect to other events, to changes in the DOM, and to user interaction.<br>Each event in this virtual queue is delayed until the previous event has completed its propagation behavior, or been canceled.<br>Some sync events are driven by a specific device or process, such as mouse button events.<br>These events are governed by the <strong>event order</strong> algorithms defined for that set of events, and <strong>user agents</strong> will dispatch these events in the defined order.</p>
</blockquote>
<p>åŒæ­¥çš„äº‹ä»¶è¢«å½“ä½œæ”¾åœ¨åœ¨ä¸€ä¸ªè™šæ‹Ÿçš„å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ä¸­ï¼Œä»¥å’Œå…¶ä»–çš„äº‹ä»¶æŒ‰æ—¶é—´å‘ç”Ÿçš„é¡ºåºè¿›è¡Œæ’åºï¼Œä¾æ¬¡æ‰§è¡Œæ¥æ”¹å˜DOMä»¥åŠå’Œç”¨æˆ·äº¤äº’ã€‚<br>åœ¨è¿™ä¸ªè™šé˜Ÿåˆ—ä¸­æ¯ä¸ªäº‹ä»¶ä¼šå»¶è¿Ÿåˆ°ä¹‹å‰çš„äº‹ä»¶å®Œæˆå®ƒçš„ä¼ é€’è¡Œä¸ºæˆ–è€…è¢«å–æ¶ˆä¹‹åå†æ‰§è¡Œã€‚<br>ä¸€äº›åŒæ­¥äº‹ä»¶ç”±ä¸€ä¸ªç‰¹å®šçš„è®¾å¤‡æˆ–è€…è¿›ç¨‹æ¥é©±åŠ¨ï¼Œæ¯”å¦‚ä¸€ä¸ªé¼ æ ‡æŒ‰é’®äº‹ä»¶<br>è¿™äº›äº‹ä»¶é€šè¿‡ä¸ºäº‹ä»¶é›†åˆå®šä¹‰çš„äº‹ä»¶æ’åºç®—æ³•æ¥ç®¡ç†ï¼Œç”¨æˆ·ä»£ç†æŒ‰ç…§å®šä¹‰çš„é¡ºåºåˆ†å‘è¿™äº›äº‹ä»¶</p>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªæœ¯è¯­ï¼š<strong>event order</strong>å’Œ<strong>user agents</strong></p>
<hr>
<p><strong>event order</strong></p>
<blockquote>
<p>The sequence in which events from the same event source or process occur, using the same or related event interfaces.<br>For example, in an environment with a mouse, a track pad, and a keyboard, each of those input devices would constitute a separate event source, and each would follow its own event order.<br>A mousedown event from the trackpad followed by a mouseup event from the mouse would not result in a click event.</p>
</blockquote>
<p>ç›¸åŒäº‹ä»¶æºæˆ–è€…ä½¿ç”¨äº†ç›¸åŒæˆ–è€…çº¿ç®¡äº‹ä»¶æ¥å£çš„å¤„ç†ç¨‹åºå‘ç”Ÿæ—¶çš„äº‹ä»¶çš„é¡ºåº<br>æ¯”å¦‚ï¼Œä¸€ä¸ªå¸¦æœ‰é¼ æ ‡ï¼Œè§¦æ§æ¿å’Œé”®ç›˜çš„ç¯å¢ƒï¼Œæ¯ä¸ªè¾“å…¥è®¾å¤‡æ„æˆäº†ä¸€ä¸ªåˆ†ç¦»çš„äº‹ä»¶æºï¼Œå¹¶ä¸”éµå¾ªå®ƒä»¬è‡ªå·±çš„äº‹ä»¶é¡ºåºã€‚<br>è§¦æ§æ¿çš„ä¸€ä¸ªæŒ‰ä¸‹äº‹ä»¶ï¼Œç„¶åä¸€ä¸ªé¼ æ ‡çš„å¼¹èµ·äº‹ä»¶ä¸ä¼šå¯¼è‡´ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼ˆè¿™é‡Œæ„æ€æ˜¯ï¼Œå› ä¸ºä¸€ä¸ªç‚¹å‡»äº‹ä»¶å¯ä»¥çœ‹æˆé¼ æ ‡æŒ‰ä¸‹ç„¶åå¼¹èµ·ä¹‹åè§¦å‘çš„äº‹ä»¶ï¼Œä½†æ˜¯ç”±äºè¿™ä¸¤ä¸ªäº‹ä»¶çš„æºä¸åŒï¼Œå¹¶ä¸ä¼šè§¦å‘ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼‰</p>
<blockquote>
<p>There can be interactions between different event orders.<br>For example, a click event might be modified by a concurrent keydown event (e.g., via Shift+click).<br>However, the event orders of these different event sources would be distinct.</p>
</blockquote>
<p>åœ¨ä¸åŒçš„äº‹ä»¶é¡ºåºä¸­å¯ä»¥è¿›è¡Œäº¤äº’ã€‚<br>æ¯”å¦‚ï¼Œä¸€ä¸ªç‚¹å‡»äº‹ä»¶å¯èƒ½è¢«ä¸€ä¸ªåŒæ—¶çš„é”®ç›˜æŒ‰ä¸‹äº‹ä»¶ï¼ˆæ¯”å¦‚Shift+clickï¼‰ä¿®æ”¹ã€‚<br>ç„¶è€Œï¼Œä¸åŒäº‹ä»¶æºçš„äº‹ä»¶é¡ºåºæ˜¯ä¸åŒçš„</p>
<blockquote>
<p>The event order of some interfaces are device-independent.<br>For example, a user might change focus using the Tab key, or by clicking the new focused element with the mouse.<br>The event order in such cases depends on the state of the process, not on the state of the device that initiates the state change.</p>
</blockquote>
<p>ä¸€äº›å®ç°çš„äº‹ä»¶é¡ºåºæ˜¯è®¾å¤‡æ— å…³çš„ã€‚<br>æ¯”å¦‚ï¼Œä¸€ä¸ªç”¨æˆ·å¯èƒ½ä½¿ç”¨Tabé”®æ¥æ”¹å˜ç„¦ç‚¹ï¼Œæˆ–è€…é€šè¿‡é¼ æ ‡ç‚¹å‡»æ–°çš„èšç„¦çš„å…ƒç´ ã€‚<br>äº‹ä»¶é¡ºåºåœ¨è¿™äº›æƒ…å†µä¸‹ä¾èµ–è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€Œä¸ä¾èµ–å¼€å§‹çŠ¶æ€æ”¹å˜çš„è®¾å¤‡çš„çŠ¶æ€</p>
<p><strong>user agents</strong></p>
<blockquote>
<p>A program, such as a browser or content authoring tool, normally running on a client machine,<br>which acts on a userâ€™s behalf in retrieving, interpreting, executing, presenting, or creating content.<br>Users MAY act on the content using different user agents at different times, for different purposes.<br>See the Â§1.2.1 Web browsers and other dynamic or interactive user agents and Â§1.2.2 Authoring tools for details on the requirements for a conforming user agent.</p>
</blockquote>
<p>ä¸€ä¸ªç¨‹åºï¼Œæ¯”å¦‚ä¸€ä¸ªæµè§ˆå™¨æˆ–è€…ä¸€ä¸ªå†…å®¹åˆ›ä½œå·¥å…·ï¼Œä¸€èˆ¬è¿è¡Œåœ¨å®¢æˆ·æœºå™¨ä¸Šï¼Œ<br>åœ¨æ£€ç´¢ï¼Œè§£é‡Šï¼Œæ‰§è¡Œï¼Œå‘ˆç°æˆ–è€…å†…å®¹åˆ›å»ºæ—¶ä»£è¡¨ç”¨æˆ·è¿›è¡Œæ“ä½œã€‚<br>ç”¨æˆ·å¯èƒ½ä¸ºäº†ä¸åŒçš„ç›®çš„ï¼Œåœ¨ä¸åŒæ—¶é—´ï¼Œä½¿ç”¨ä¸åŒçš„ç”¨æˆ·ä»£ç†æ“ä½œå†…å®¹ã€‚<br>æŸ¥çœ‹1.2.1èŠ‚å’Œ1.2.2èŠ‚æ¥çŸ¥é“ä¸€ä¸ªç¬¦åˆçš„ç”¨æˆ·ä»£ç†çš„è¦æ±‚çš„ç»†èŠ‚ã€‚</p>
<hr>
<blockquote>
<p>Events which are asynchronous (async events) may be dispatched as the results of the action are completed,<br>with no relation to other events, to other changes in the DOM, nor to user interaction.</p>
</blockquote>
<p>å¼‚æ­¥äº‹ä»¶å¯èƒ½ä½œä¸ºåŠ¨ä½œå®Œæˆçš„ç»“æœè¢«åˆ†å‘ï¼Œå’Œå…¶ä»–äº‹ä»¶ï¼ŒDOMä¸­çš„å…¶ä»–æ›´æ”¹æˆ–è€…ç”¨æˆ·çš„äº¤äº’æ²¡æœ‰å…³ç³»ã€‚</p>
<blockquote>
<p>EXAMPLE 3<br>During loading of a document, an inline script element is parsed and executed.  x<br>The load event is queued to be fired asynchronously at the script element.<br>However, because it is an async event, its order with relation to other synchronous events fired during document load (such as the DOMContentLoaded event from <a target="_blank" rel="noopener" href="https://www.w3.org/TR/2019/WD-uievents-20190530/#biblio-html5">HTML5</a>) is not guaranteed.</p>
</blockquote>
<p>åœ¨æ–‡æ¡£åŠ è½½ä¸­ï¼Œä¸€ä¸ªå†…è”çš„scriptå…ƒç´ ä¼šè¢«è§£æå’Œæ‰§è¡Œã€‚<br>loadäº‹ä»¶è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ï¼Œç„¶åå¼‚æ­¥åœ°åˆ†å‘åˆ°scriptå…ƒç´ ä¸Šã€‚<br>ç„¶è€Œï¼Œç”±äºå®ƒæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„äº‹ä»¶ï¼Œåœ¨æ–‡æ¡£åŠ è½½æ—¶ï¼ˆæ¯”å¦‚HTML5ä¸­çš„DOMContentLoadedäº‹ä»¶ï¼‰ä¸èƒ½ä¿è¯å®ƒä¸å…¶ä»–ç›¸å…³çš„åŒæ­¥äº‹ä»¶çš„åˆ†å‘çš„é¡ºåº</p>
<h2 id="Trusted-eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰"><a href="#Trusted-eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰" class="headerlink" title="Trusted eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰"></a>Trusted eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰</h2><blockquote>
<p>Events that are generated by the <strong>user agent</strong>, either as a result of user interaction,<br>or as a direct result of changes to the DOM, are trusted by the <strong>user agent</strong> with privileges that are not afforded to events generated by script through the <code>createEvent()</code> method,<br>modified using the <code>initEvent()</code> method, or dispatched via the <code>dispatchEvent()</code> method.<br>The isTrusted attribute of trusted events has a value of true, while untrusted events have a isTrusted attribute value of false.</p>
</blockquote>
<p>ç”±ç”¨æˆ·ä»£ç†ç”Ÿæˆçš„äº‹ä»¶ï¼Œæˆ–è€…ç”¨æˆ·äº¤äº’çš„ç»“æœï¼Œæˆ–è€…æ”¹å˜DOMçš„ç›´æ¥ç»“æœï¼Œä¼šè¢«æœ‰ç‰¹æƒçš„ç”¨æˆ·ä»£ç†ä¿¡ä»»ï¼ˆä¸åŒ…æ‹¬é€šè¿‡<code>createEvent()</code>æ–¹æ³•ç”Ÿæˆçš„äº‹ä»¶ï¼Œä½¿ç”¨<code>initEvent()</code>æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œæˆ–è€…é€šè¿‡<code>dispatchEvent()</code>æ–¹æ³•è¿›è¡Œåˆ†å‘ï¼‰ã€‚<br>å¯ä¿¡ä»»çš„äº‹ä»¶çš„<code>isTrusted</code>å±æ€§å€¼ä¸º<code>true</code>ï¼Œè€Œä¸å¯ä¿¡ä»»çš„äº‹ä»¶çš„<code>isTrusted</code>å€¼ä¸º<code>false</code></p>
<blockquote>
<p>Most untrusted events will not trigger default actions, with the exception of the click event.<br>This event always triggers the <strong>default action</strong>, even if the isTrusted attribute is false (this behavior is retained for backward-compatibility).<br>All other untrusted events behave as if the <code>preventDefault()</code> method had been called on that event.</p>
</blockquote>
<p>å¤§å¤šä¸å¯ä¿¡ä»»çš„äº‹ä»¶ä¸ä¼šè§¦å‘é»˜è®¤çš„åŠ¨ä½œï¼Œé™¤äº†ç‚¹å‡»äº‹ä»¶ã€‚<br>è¿™ä¸ªäº‹ä»¶æ€»æ˜¯è§¦å‘é»˜è®¤çš„åŠ¨ä½œï¼Œå³ä½¿<code>isTrusted</code>å±æ€§ä¸º<code>false</code>ï¼ˆè¿™ä¸ªè¡Œä¸ºä¸ºäº†å‘åå…¼å®¹è€Œä¿ç•™ï¼‰<br>æ‰€æœ‰å…¶ä»–çš„ä¸å¯ä¿¡ä»»çš„äº‹ä»¶çš„è¡Œä¸ºæ’•æ¯å°±æ˜¯åœ¨é‚£ä¸ªäº‹ä»¶ä¸Šè°ƒç”¨äº†<code>preventDefault()</code></p>
<h2 id="Activation-triggers-and-behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰"><a href="#Activation-triggers-and-behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰" class="headerlink" title="Activation triggers and behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰"></a>Activation triggers and behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰</h2><blockquote>
<p>Certain event targets (such as a link or button element) may have associated <strong>activation behavior</strong> (such as following a link) that implementations perform in response to an activation trigger (such as clicking a link).</p>
</blockquote>
<p>æŸäº›äº‹ä»¶ç›®æ ‡å¯¹è±¡ï¼ˆæ¯”å¦‚ä¸€ä¸ªlinkï¼ˆé“¾æ¥ï¼‰æˆ–è€…buttonï¼ˆæŒ‰é’®ï¼‰å…ƒç´ ï¼‰å¯èƒ½å’Œæ¿€æ´»çš„è¡Œä¸ºç›¸å…³ï¼ˆæ¯”å¦‚è·Ÿéšä¸€ä¸ªé“¾æ¥ï¼‰ï¼Œå®ç°æ‰§è¡Œæ¥å“åº”ä¸€ä¸ªæ¿€æ´»çš„è§¦å‘å™¨ï¼ˆæ¯”å¦‚ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼‰</p>
<blockquote>
<p>EXAMPLE 4<br>Both HTML and SVG have an <code>&lt;a&gt;</code> element which indicates a link.<br>Relevant activation triggers for an <code>&lt;a&gt;</code> element are a click event on the text or image content of the <code>&lt;a&gt;</code> element,<br>or a keydown event with a key attribute value of â€œEnterâ€ key when the <code>&lt;a&gt;</code> element has focus.<br>The activation behavior for an <code>&lt;a&gt;</code> element is normally to change the content of the window to the content of the new document,<br>in the case of external links, or to reposition the current document relative to the new anchor, in the case of internal links.</p>
</blockquote>
<p>HTMLå’ŒSVGéƒ½æœ‰ä¸€ä¸ª<code>&lt;a&gt;</code>æ ‡ç­¾æ¥è¡¨æ˜ä¸€ä¸ªé“¾æ¥ã€‚<br>ä¸€ä¸ª<code>&lt;a&gt;</code>å…ƒç´ çš„ç›¸å…³çš„æ¿€æ´»è§¦å‘å™¨ä¸ºåœ¨æ–‡æœ¬æˆ–è€…<code>&lt;a&gt;</code>å…ƒç´ çš„å›¾åƒå†…å®¹ä¸Šçš„ç‚¹å‡»äº‹ä»¶ï¼Œæˆ–è€…å½“<code>&lt;a&gt;</code>å…ƒç´ è¢«èšç„¦æ—¶ä¸€ä¸ªå¸¦æœ‰keyå±æ€§å€¼ä¸º<code>Enter</code>çš„keydownäº‹ä»¶ã€‚<br>ä¸€ä¸ª<code>&lt;a&gt;</code>æ ‡ç­¾æ¿€æ´»è¡Œä¸ºä¸€èˆ¬æ”¹å˜windowçš„å†…å®¹ä¸ºæ–°çš„æ–‡æ¡£çš„å†…å®¹ï¼Œæ¯”å¦‚å¤–éƒ¨çš„é“¾æ¥ï¼Œç”¨æ¥é‡æ–°å®šä½å½“å‰æ–‡æ¡£åˆ°ä¸€ä¸ªæ–°çš„æç‚¹ï¼Œæ¯”å¦‚å†…éƒ¨çš„é“¾æ¥</p>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªæœ¯è¯­<strong>activation behavior</strong>å’Œ<strong>activation trigger</strong></p>
<hr>
<p><strong>activation behavior</strong></p>
<blockquote>
<p>The action taken when an event, typically initiated by users through an input device, causes an element to fulfill a defined task.<br>The task MAY be defined for that element by the host language, or by author-defined variables, or both.<br>The default task for any given element MAY be a generic action, or MAY be unique to that element.<br>For example, the activation behavior of an HTML or SVG <code>&lt;a&gt;</code> element is to cause the user agent to traverse the link specified in the href attribute,<br>with the further optional parameter of specifying the browsing context for the traversal (such as the current window or tab, a named window, or a new window).<br>The activation behavior of an HTML <code>&lt;input&gt;</code> element with the type attribute value submit is be to send the values of the form elements to an author-defined IRI by the author-defined HTTP method.<br>See Â§3.5 Activation triggers and behavior for more details.</p>
</blockquote>
<p>å½“ä¸€ä¸ªäº‹ä»¶ï¼Œé€šå¸¸ä¸ºé€šè¿‡ç”¨æˆ·è¾“å…¥è®¾å¤‡å‘èµ·ï¼Œæºå¸¦çš„åŠ¨ä½œä½¿å¾—ä¸€ä¸ªå…ƒç´ å®Œæˆä¸€ä¸ªå®šä¹‰çš„ä»»åŠ¡ã€‚<br>ä»»åŠ¡å¯èƒ½é€šè¿‡å®¿ä¸»è¯­è¨€ï¼Œæˆ–è€…é€šè¿‡ä½œè€…å®šä¹‰çš„å˜é‡ï¼Œæˆ–è€…ä¸¤è€…éƒ½ä½¿ç”¨æ¥å¯¹å¯¹åº”å…ƒç´ å®šä¹‰ã€‚<br>ä»»ä½•ç»™å®šçš„é»˜è®¤ä»»åŠ¡å¯èƒ½æ˜¯ä¸€ä¸ªé€šç”¨çš„åŠ¨ä½œï¼Œæˆ–è€…å¯èƒ½å”¯ä¸€å­˜åœ¨è¿™ä¸ªå…ƒç´ ã€‚<br>æ¯”å¦‚ï¼ŒHTMLæˆ–è€…SVGçš„<code>&lt;a&gt;</code>æ ‡ç­¾å…ƒç´ çš„æ¿€æ´»è¡Œä¸ºè®©ç”¨æˆ·ä»£ç†éå†æŒ‡å®šé“¾æ¥çš„<code>href</code>å±æ€§ï¼Œéå†å¸¦æœ‰æŒ‡å®šæµè§ˆä¸Šä¸‹æ–‡çš„å…¶ä»–å¯é€‰çš„å‚æ•°ï¼ˆæ¯”å¦‚å½“å‰çª—å£æˆ–è€…æ ‡ç­¾é¡µï¼Œä¸€ä¸ªå‘½åçš„çª—å£ï¼Œæˆ–è€…ä¸€ä¸ªæ–°çš„çª—å£ï¼‰<br>HTMLçš„å¸¦æœ‰typeå±æ€§å€¼ä¸ºsubmitçš„<code>&lt;input&gt;</code>å…ƒç´ æ¿€æ´»è¡Œä¸ºä¸ºé€šè¿‡ç”¨æˆ·å®šä¹‰çš„HTTPæ–¹æ³•å‘é€formè¡¨å•çš„å€¼åˆ°ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„IRI<br>æŸ¥çœ‹3.5èŠ‚æ¥è·å¾—æ›´å¤šç»†èŠ‚ä¿¡æ¯</p>
<p><strong>activation trigger</strong></p>
<blockquote>
<p>An event which is defined to initiate an activation behavior.<br>Refer to Â§3.5 Activation triggers and behavior for more details.</p>
</blockquote>
<p>ä¸€ä¸ªå®šä¹‰çš„äº‹ä»¶å‘èµ·çš„ä¸€ä¸ªæ¿€æ´»è¡Œä¸º<br>å¯¼å‘3.5èŠ‚è·å¾—æ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯</p>
<hr>
<h2 id="Constructing-Mouse-and-Keyboard-Eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰"><a href="#Constructing-Mouse-and-Keyboard-Eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰" class="headerlink" title="Constructing Mouse and Keyboard Eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰"></a>Constructing Mouse and Keyboard Eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰</h2><blockquote>
<p>Generally, when a constructor of an Event interface, or of an interface inherited from the Event interface, is invoked, the steps described in <a href="">DOM</a> should be followed.<br>However the KeyboardEvent and MouseEvent interfaces provide additional dictionary members for initializing the internal state of the Event objectâ€™s key modifiers: specifically, the internal state queried for using the <code>getModifierState()</code> and <code>getModifierState()</code> methods.<br>This section supplements the DOM4 steps for intializing a new Event object with these optional modifier states.</p>
</blockquote>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªäº‹ä»¶æ¥å£çš„æ„é€ å™¨ï¼Œæˆ–è€…ä¸€ä¸ªç»§æ‰¿äº‹ä»¶æ¥å£çš„æ¥å£è¢«æ‰§è¡Œæ—¶ï¼Œæ­¥éª¤ä¼šæŒ‰ç…§DOMä¸­æ‰€æè¿°çš„ã€‚<br>ç„¶è€Œé”®ç›˜äº‹ä»¶å’Œé¼ æ ‡ä¹¦ç®€æ¥å£æä¾›äº†é¢å¤–çš„å­—å…¸æˆå‘˜æ¥åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡çš„å…³é”®ä¿®é¥°ç¬¦çš„å†…éƒ¨çŠ¶æ€ï¼šç‰¹åˆ«æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨<code>getModifierState()</code>å’Œ<code>getModifierState()</code>æ–¹æ³•æ¥æŸ¥è¯¢å†…éƒ¨çš„çŠ¶æ€ã€‚<br>è¿™ä¸ªå°èŠ‚è¡¥å……äº†DOM4ä¸­åˆå§‹åŒ–ä¸€ä¸ªå¸¦æœ‰å¯é…ç½®çš„ä¿®æ”¹å¸ˆå‚…çŠ¶æ€çš„äº‹ä»¶å¯¹è±¡çš„æ­¥éª¤</p>
<blockquote>
<p>For the purposes of constructing a KeyboardEvent, MouseEvent, or object derived from these objects using the algorithm below,<br>all KeyboardEvent, MouseEvent, and derived objects have internal key modifier state which can be set and retrieved using the key modifier names described in the Modifier Keys table in UIEvents-Key.</p>
</blockquote>
<p>ä¸ºäº†æ„é€ ä¸€ä¸ªé”®ç›˜äº‹ä»¶ï¼Œé¼ æ ‡äº‹ä»¶ï¼Œæˆ–è€…ä»è¿™äº›äº‹ä»¶å¯¹è±¡æ´¾ç”Ÿçš„å¯¹è±¡ï¼Œä½¿ç”¨ä¸‹é¢çš„ç®—æ³•ï¼Œ<br>æ‰€æœ‰çš„é”®ç›˜äº‹ä»¶ï¼Œé¼ æ ‡äº‹ä»¶ï¼Œå’Œæ´¾ç”Ÿå¯¹è±¡æœ‰å†…éƒ¨çš„å…³é”®ä¿®é¥°ç¬¦çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€å¯ä»¥ä½¿ç”¨å…³é”®è¯ä¿®é¥°åå­—ï¼ˆåœ¨UIEvents-Keyä¸­ä¿®é¥°å…³é”®è¯è¡¨æ ¼æè¿°ï¼‰è¢«è®¾ç½®å’Œé‡ç½®</p>
<blockquote>
<p>The following steps supplement the algorithm defined for constructing events in DOM4:</p>
<ul>
<li>If the Event being constructed is a KeyboardEvent or MouseEvent object or an object that derives from either of these, and a EventModifierInit argument was provided to the constructor, then run the following sub-steps:<ul>
<li>For each EventModifierInit argument, if the dictionary member begins with the string â€œmodifierâ€, then let the key modifier name be the dictionary memberâ€™s name excluding the prefix â€œmodifierâ€, and set the Event objectâ€™s internal key modifier state that matches the key modifier name to the corresponding value.</li>
</ul>
</li>
</ul>
</blockquote>
<p>ä¸‹é¢æ­¥éª¤è¡¥å……äº†DOM4ä¸­æ„é€ äº‹ä»¶å®šä¹‰çš„ç®—æ³•</p>
<ul>
<li>å¦‚æœæ„é€ çš„äº‹ä»¶æ˜¯ä¸€ä¸ªé”®ç›˜æˆ–è€…é¼ æ ‡äº‹ä»¶æˆ–è€…æ´¾ç”Ÿè‡ªè¿™ä¸¤ä¸ªçš„äº‹ä»¶ï¼Œé‚£ä¹ˆå‘æ„é€ å‡½æ•°æä¾›ä¸€ä¸ª<code>EventModifierInit</code>å‚æ•°ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å­æ­¥éª¤ï¼š<ul>
<li>éå†<code>EventModifierInit</code>å‚æ•°ï¼Œå¦‚æœå­—å…¸æˆå‘˜ä»¥<code>modifier</code>å­—ç¬¦å¼€å¤´ï¼Œé‚£ä¹ˆè®¾ç½®å­—å…¸æˆå‘˜åå­—ä¸ºä¸åŒ…å«<code>modifier</code>å‰ç¼€çš„å…³é”®ä¿®é¥°ç¬¦çš„åå­—ï¼Œç„¶åè®¾ç½®åŒ¹é…å…³é”®ä¿®é¥°ç¬¦åå­—çš„äº‹ä»¶å¯¹è±¡çš„å†…éƒ¨å…³é”®ä¿®é¥°ç¬¦çŠ¶æ€ä¸ºå¯¹åº”çš„å€¼ã€‚</li>
</ul>
</li>
</ul>
<h1 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h1><p>æœ€è¿‘æ‰“ç®—å†™ä¸ªDNFçš„çº¸å¨ƒå¨ƒç³»ç»Ÿï¼Œä¸»è¦æ˜¯ç”Ÿæˆè¡¥ä¸ä»£ç ä»¥åŠåœ¨çº¿æ¨¡æ‹Ÿæ¢è£…çš„è¿™ä¹ˆä¸€ä¸ªåº”ç”¨</p>
<p>åŸæ¥çš„<a target="_blank" rel="noopener" href="https://avatar.kritsu.net/">çº¸å¨ƒå¨ƒ</a>æ„Ÿè§‰æŒºå¤šbugçš„ï¼Œè€Œä¸”ä¹Ÿå¥½åƒæ²¡äººç»´æŠ¤</p>
<p>æ‰“ç®—ä»¥è¿™ä¸ªä¸ºæ ·æœ¬ï¼Œå†åšä¸€ä¸ªï¼Œä¸»è¦æ˜¯é»‘çŒ«çš„ä»£ç è½¬esçš„ä»£ç å¯å¤ªæ¶å¿ƒäº†â€¦</p>
<p>é™„ä¸Šä¸€å¼ å¼€å‘çš„å›¾ï¼Œç”¨çš„react + Material UI</p>
<p><img data-src="https://i.loli.net/2020/12/03/XEqi2o9FM4JpngW.png"></p>
<p>PSï¼šå¦‚æœèƒ½ææˆæ¯•ä¸šè®¾è®¡é‚£å°±æœ‰æ„æ€äº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Dedicatus545
  </li>
  <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://prohibitorum.top/01194d4ee87a" title="DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡">https://prohibitorum.top/01194d4ee87a</a>
  </li>
  <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/DOM/" rel="tag"># DOM</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/aa08a7e76fb8" rel="prev" title="å°è¯•é…ç½®webpackæ¥ç¼–è¯‘é¡¹ç›®">
                  <i class="fa fa-angle-left"></i> å°è¯•é…ç½®webpackæ¥ç¼–è¯‘é¡¹ç›®
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/3800ed123cd0" rel="next" title="JavaScriptä¸­çš„åƒåœ¾å›æ”¶">
                  JavaScriptä¸­çš„åƒåœ¾å›æ”¶ <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Dedicatus545</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">425k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">25:45</span>
  </span>
</div>

<div class="site_sign">
  <span class="post-meta-item">
    <span>
      å¦‚æœæˆ‘å’Œç‹—ä¸€æ ·æœ‰å°¾å·´çš„è¯ï¼Œä¸€å®šä¼šè—ä¸ä½è¿™ä»½å–œæ‚¦ï¼Œè€Œå°¾å·´ä¸€ç›´æ‘‡ä¸ªä¸åœå§ã€‚
    </span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://fastly.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://fastly.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
  <script src="https://fastly.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://fastly.jsdelivr.net/npm/algoliasearch@4.23.3/dist/algoliasearch-lite.umd.js" integrity="sha256-1QNshz86RqXe/qsCBldsUu13eAX6n/O98uubKQs87UI=" crossorigin="anonymous"></script>
<script src="https://fastly.jsdelivr.net/npm/instantsearch.js@4.67.0/dist/instantsearch.production.min.js" integrity="sha256-TW7D3X/i/W+RUgEeDppEnFT2ixv5lzplKH0c58D92dY=" crossorigin="anonymous"></script><script src="/js/third-party/search/algolia-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>



  




<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"Dedicatus546","repo":"gitalk","client_id":"f7dc1ebbf18fc0fd3a5c","client_secret":"0893318788a1b62f883bdace8c12e6c42d76b402","admin_user":"Dedicatus546","distraction_free_mode":true,"proxy":"https://strong-caramel-969805.netlify.app/github_access_token","language":"zh-CN","js":{"url":"https://fastly.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"1606963845"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

<!-- hexo injector body_end start -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11.1.9/swiper-bundle.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11.1.9/swiper-bundle.min.css">
<style>
    :root {
      --swiper-theme-color: var(--theme-color);
      --swiper-pagination-bottom: 0;
    }
    .swiper {
      padding-bottom: 32px;
      margin-bottom: 20px;
    }
    .swiper .swiper-slide .swiper-slide-img {
      display: block;
      width: 100%;
      object-fit: contain;
      background: var(--body-bg-color);
      margin: 0;
    }
  </style><!-- hexo injector body_end end --></body>
</html>
